<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0"	xmlns="http://www.w3.org/1999/xhtml"	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"> 	<xsl:template match="/data">		<xsl:variable name="pics" select="*[@data-cms-name='pics']"/>		<xsl:variable name="currentPics" select="*[@data-cms-name='pics-upload']/resourceDir"/>		<!--		<xsl:variable name="icons" select="*[@data-cms-name='icons']"/>		<xsl:variable name="disk" select="$icons[@path = 'disk.small.png']"/>		-->		<html>			<head><title>Slothsoft - Image Upload Download Thingeh</title>			<style type="text/css"><![CDATA[table {	width: 100%;	background-color: #8AC757;}td {	background-color: #A2D578;	text-align: center;	vertical-align: top;}.preview {	min-width: 128px;	width: 128px;	text-align: center;}.preview > * {	margin: 4px auto;}.preview .link {	display: table-cell;	vertical-align: top;}.preview a.link {	border: 3px silver ridge;	background-color: white;}.preview a.link:hover {	border-color: navy;	background-color: lightblue;}.preview a.link:active {	border-style: groove;}.preview .current a.link {	border-color: gold;	background-color: gold;	border-style: groove;}.preview img {	max-width: 96px;	max-height: 64px;	display: block;}p {	text-align: center;}.current .view {	border: 3px silver groove;	background-color: white;	display: table;	margin: 4px auto;}.current .view img {	display: block;	max-width: 100%;}			]]></style>			</head>						<body>								<table border="1">					<tr>						<td colspan="2">							<form action="." method="POST" enctype="multipart/form-data">								<input type="file" name="pic[]" multiple="multiple" accept="image/*" size="100"/>								<input type="submit" value="Upload Images! \o/"/>							</form>						</td>					</tr>					<tr class="pics">						<td class="preview">							<xsl:for-each select="$pics">								<xsl:sort select="@change-stamp" order="descending"/>								<div>									<xsl:if test="@path = $currentPics/@path">										<xsl:attribute name="class">current</xsl:attribute>									</xsl:if>									<a href="./?view={@path}" title="{@path}" class="link">										<img src="{@thumbnail}" alt="{@path}" />									</a>									<!--									<p>										<xsl:value-of select="@path"/>									</p>									<p>										<time datetime="{@change-utc}" title="Erstellungsdatum">(<xsl:value-of select="@change-datetime"/>)</time>									</p>									-->									<div class="link">										<a href="{@uri}" title="View!">											<xsl:text>â˜…</xsl:text>										</a>										<br/>										<a href="{@uri}?download" title="Download!" class="downloadFile" download="{@path}">											<xsl:text>â˜Ÿ</xsl:text>										</a>									</div>																		<!--									<p>										<xsl:value-of select="@path"/>										<a href="/download.php?file={@uri}" title="Download Pic" class="downloadFile">											<img src="/images/pictograms/disk.default.png" alt="Download"/>															</a>										<xsl:text> (</xsl:text>										<time datetime="{@change-utc}" title="Erstellungsdatum"><xsl:value-of select="@change-datetime"/></time>										<xsl:text>)</xsl:text>									</p>									-->								</div>							</xsl:for-each>						</td>						<td class="current">							<xsl:for-each select="$currentPics">								<div>									<a href="{@uri}" title="{@path}" class="view">										<img src="{@uri}" alt="{@path}" />									</a>									<p>										<xsl:value-of select="@path"/>									</p>									<p>										<time datetime="{@change-utc}" title="Erstellungsdatum">(<xsl:value-of select="@change-datetime"/>)</time>									</p>									<samp>										<xsl:value-of select="ceiling(@size div 1024 div 1024)"/>										<xsl:text> MB </xsl:text>										<a href="{@uri}?download" title="Download!" class="downloadFile" download="{@path}">											<xsl:text>ðŸ’¾</xsl:text>										</a>										<xsl:text> </xsl:text>										<xsl:value-of select="@width"/>										<xsl:text> x </xsl:text>										<xsl:value-of select="@height"/>										<xsl:text> Pixel</xsl:text>									</samp>								</div>							</xsl:for-each>						</td>					</tr>				</table>			</body>		</html>	</xsl:template></xsl:stylesheet>